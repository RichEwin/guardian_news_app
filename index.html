<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Guardian News</title>

    <link rel="stylesheet" href="public/style.css">
    <script src="src/article-list-controller.js"></script>
    <script src="src/article-list-model.js"></script>
    <script src="src/article-list-view.js"></script>
    <script src="src/article-model.js"></script>

  </head>
  <body>
    <div id='app'></div>
    <h1> Guardian News </h1>
    <p id='article-list-view'></p>

    <script>
    // create a new instance of articlelist
    let articleList = new ArticleList();
    // create a new instance of articlelistview
    let articleListView = new ArticleListView(articleList);
    // create a new variable called request and assign to XMLHttpRequest
    let apiRequest = new XMLHttpRequest();
    // create a new instance of articlelistcontroller and pass in arguments
    let articleListController = new ArticleListController(articleList, articleListView, apiRequest);
    // fetch the data from the API function
    articleListController.fetchData();
    // create a setTimeout function to re-execute the request afer 2 seconds to keep content up to date
    setTimeout(function() {
      articleListController.renderData();
    }, 2000);
    </script>

  </body>
</html>
